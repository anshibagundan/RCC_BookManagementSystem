<!DOCTYPE html>
{% load static %}
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>蔵書管理システム</title>
    <link rel="stylesheet" href="{% static 'index.css' %}">
</head>
<body>
    <h1>蔵書一覧</h1>
    <button onclick="fetchBooks()" class="btn">蔵書データを取得</button>
    <button onclick="showBorrowReturnModal()" class="btn borrow-return-btn">貸出/返却</button>
    <div id="borrowReturnModal" style="display:none; position:fixed; z-index:1; left:0; top:0; width:100%; height:100%; overflow:auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4);">
        <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%;">
            <span onclick="closeModal()" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
            <h2>蔵書一覧</h2>
            <input type="text" id="searchTitle" placeholder="タイトルで検索" onkeyup="filterBooks()" />
            <table id="modal-books-table">

            </table>
        </div>
    </div>
    <table>
        <thead>
            <tr>
                <th>タイトル</th>
                <th>貸出者</th>
                <th>貸出状態</th>
            </tr>
        </thead>
        <tbody id="books"></tbody>
    </table>

    <!-- Loading ポップアップ -->
<div id="loadingPopup" style="display:none; position:fixed; z-index:2; left:0; top:0; width:100%; height:100%; background-color: rgba(0,0,0,0.5);">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 20px; border-radius: 5px;">
        Now Loading...
    </div>
</div>
<script src="{% static 'index.js' %}"></script>
</body>
</html>
